{
  "$schema": "https://json-schema.org/draft-07/schema",
  "type": "object",
  "properties": {
    "has_processing_errors": {
      "type": "boolean",
      "title": "Has Processing Errors",
      "description": "Boolean flag indicating whether any errors occurred during processing. Used as a decision point for workflow branching."
    },
    "target_browser": {
      "type": "string",
      "title": "Target Browser",
      "description": "Name of the browser that was analyzed (preserved for downstream notifications)."
    },
    "target_hostname": {
      "type": "string",
      "title": "Target Hostname",
      "description": "Hostname of the endpoint system where collection occurred."
    },
    "resolved_username": {
      "type": "string",
      "title": "Resolved Username",
      "description": "Windows username that was resolved (either from input or auto-discovered)."
    },
    "detected_browser_profiles": {
      "type": "array",
      "items": { "type": "string" },
      "title": "Detected Browser Profiles",
      "description": "Array of browser profile names found (e.g., Default, Profile 1, Profile 2)."
    },
    "output_artifact_paths": {
      "type": "array",
      "items": { "type": "string" },
      "title": "Output Artifact Paths",
      "description": "Array of absolute paths to the Hindsight output files that were generated."
    },
    "execution_timestamp": {
      "type": "string",
      "title": "Execution Timestamp",
      "description": "UTC timestamp (yyyy-MM-ddTHH-mm format) used for consistent artifact naming."
    },
    "working_directory_path": {
      "type": "string",
      "title": "Working Directory Path",
      "description": "Absolute path to the directory containing output artifacts."
    },
    "exception_messages": {
      "type": "array",
      "items": { "type": "string" },
      "title": "Exception Messages",
      "description": "Array of error messages describing what failed (only present when has_processing_errors is true)."
    }
  },
  "required": ["has_processing_errors"]
}
